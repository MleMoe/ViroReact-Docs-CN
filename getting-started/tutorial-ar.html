<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tutorial AR | ViroReact-AR 中文文档</title>
    <meta name="description" content="the Chinese version of viro media/community documents">
    <link rel="stylesheet" href="/ViroReact-Docs-CN/assets/style.019f39fc.css">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/Home.6e5cf38f.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/app.551f901f.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/getting-started_tutorial-ar.md.f35191b3.lean.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/app.551f901f.js">
    <meta name="twitter:title" content="Tutorial AR | ViroReact-AR 中文文档">
    <meta property="og:title" content="Tutorial AR | ViroReact-AR 中文文档">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/ViroReact-Docs-CN/" aria-label="ViroReact-AR 中文文档, back to home" data-v-675d8756 data-v-4a583abe><!----> ViroReact-AR 中文文档</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><!----></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><!----><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item"></p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/">前言</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/getting-started/">起步</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/getting-started/quick-start">快速上手</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/ViroReact-Docs-CN/getting-started/tutorial-ar">AR 教程</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#前置任务">前置任务</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#纪念品">纪念品</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#了解-helloworldscenear-js">了解 HelloWorldSceneAR.js</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#导入工具-components">导入工具 components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#helloworldscenear-组件">HelloWorldSceneAR 组件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#声明样式">声明样式</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#下载-assets">下载 assets</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#往场景中加入组件">往场景中加入组件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#加一个-3d-物体到场景中">加一个 3D 物体到场景中</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#使用-viroarplane">使用 ViroARPlane</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#添加一个-3d-物体到平面">添加一个 3D 物体到平面</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#交互和动画">交互和动画</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#动画">动画</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#继续修改场景">继续修改场景</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#final-code">Final Code</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">基础</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/scenes">Scenes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/scene-navigation">Scene Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/input-events">输入事件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/3d-objects">3d 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/assets">资源文件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/ui-controls-and-flexbox">UI 控件 &amp; flex 布局</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">AR</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/overview">概述</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/tracking-and-anchors">追踪与锚点</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/interaction">交互</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/image-recognition">图像识别</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="tutorial-ar" tabindex="-1">Tutorial AR <a class="header-anchor" href="#tutorial-ar" aria-hidden="true">#</a></h1><blockquote><p>原文：<a href="https://docs.viromedia.com/docs/tutorial-ar" target="_blank" rel="noopener noreferrer">Tutorial AR</a></p><p>在原文基础上有部分修改，如：</p><ul><li>class component 用 function component 重写</li><li>assets 文件失效链接更新</li></ul></blockquote><h2 id="前置任务" tabindex="-1">前置任务 <a class="header-anchor" href="#前置任务" aria-hidden="true">#</a></h2><p>需要完成 <a href="./quick-start.html">快速入门</a> 章节</p><h2 id="纪念品" tabindex="-1">纪念品 <a class="header-anchor" href="#纪念品" aria-hidden="true">#</a></h2><p>这份教程将一步一步地指导你开发出一个简单的 AR APP。</p><p>你接下来将会：</p><ul><li>了解 <code>HelloWorldSceneAR.js</code> 这份代码</li><li>将一个带纹理的 <code>box</code> 放入周围世界场景</li><li>在场景中添加笑脸 <code>emoji</code></li><li>选择一个 AR 放置平面</li><li>将 <code>emoji</code> 添加到平面上</li><li>为 <code>emoji</code> 添加阴影效果</li><li>使 <code>emoji</code> 可拖动</li><li>为 <code>box</code> 增加动画</li></ul><h2 id="了解-helloworldscenear-js" tabindex="-1">了解 HelloWorldSceneAR.js <a class="header-anchor" href="#了解-helloworldscenear-js" aria-hidden="true">#</a></h2><p>打开你的测试 app，你应该可以在相机视图中看到以下白色的 “Hello World” 字样。</p><div style="text-align:center;"><img src="https://files.readme.io/9a353c5-IMG_BAFBC32D0716-1.jpeg" height="200"></div><p>你见到的场景正是 <code>HelloWorldSceneAR</code>。<code>App.js</code> 是整个 AR APP 的入口，默认导出一个返回 <code>ViroARSceneNavigator</code> 组件的箭头函数。我们见到的 <code>HelloWorldSceneAR</code>，则作为 <code>ViroARSceneNavigator</code> 组件的 <code>initialScene</code> 参数值传入，如以下代码所示：</p><div class="language-js"><pre><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-native&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ViroARSceneNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HelloWorldSceneAR <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./js/HelloWorldSceneAR&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  f1<span class="token operator">:</span> <span class="token punctuation">{</span> flex<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ViroARSceneNavigator
      autofocus<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
      initialScene<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        scene<span class="token operator">:</span> HelloWorldSceneAR<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
      style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>f1<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>ViroReact</code> 构建在 <code>React Native</code> 之上，并使用 RN 来轻松创建原生 AR APP。除了解 <code>Javascript</code> 外，你还需要了解一些基本的 <code>React</code> 概念，例如 <code>JSX</code>、<code>components</code>、<code>state</code> 和 <code>props</code>。</p><p>以下是 HelloWorldSceneAR 的代码</p><div class="language-js"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-native&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  ViroARScene<span class="token punctuation">,</span>
  ViroText<span class="token punctuation">,</span>
  ViroConstants<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">HelloWorldSceneAR</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;Initializing AR...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onInitialized</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;guncelleme&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NORMAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Handle loss of tracking</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ViroARScene onTrackingUpdated<span class="token operator">=</span><span class="token punctuation">{</span>onInitialized<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroText
        text<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>helloWorldTextStyle<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ViroARScene<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HelloWorldSceneAR<span class="token punctuation">;</span>
</code></pre></div><p>接下来介绍下这段代码都做了些什么</p><h2 id="导入工具-components" tabindex="-1">导入工具 components <a class="header-anchor" href="#导入工具-components" aria-hidden="true">#</a></h2><p>首先导入需用到的 components，分别是：</p><ul><li>从 react 导入 <code>React</code> 和 一个 react hooks <code>useState</code></li><li>从 react native 导入样式工具 <code>StyleSheet</code></li><li>还需导入这个 app 用到的， react-viro 提供的组件： <code>ViroARScene</code>，<code>ViroText</code>，<code>ViroConstants</code>。</li></ul><div class="language-js"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-native&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  ViroARScene<span class="token punctuation">,</span>
  ViroText<span class="token punctuation">,</span>
  ViroConstants<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="helloworldscenear-组件" tabindex="-1">HelloWorldSceneAR 组件 <a class="header-anchor" href="#helloworldscenear-组件" aria-hidden="true">#</a></h2><p>在 <code>import</code> 语句下面，我们创建了一个 react 函数组件 <code>HelloWorldSceneAR</code> 。</p><p>首先我们使用 <code>useState</code> 来定义一个 <code>text</code> state，及其更新函数 <code>setText()</code>。变量<code>text</code> 类型为字符串，初始化值为 <code>Initializing AR...</code>。</p><p>接下来我们 return 一个 <a href="https://zh-hans.reactjs.org/docs/introducing-jsx.html" target="_blank" rel="noopener noreferrer">jsx</a> 元素，它描述了 AR 场景该如何展示。</p><div class="language-js"><pre><code><span class="token operator">...</span>
<span class="token keyword">const</span> <span class="token function-variable function">HelloWorldSceneAR</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;Initializing AR...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onInitialized</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;guncelleme&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NORMAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Handle loss of tracking</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ViroARScene onTrackingUpdated<span class="token operator">=</span><span class="token punctuation">{</span>onInitialized<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroText
        text<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>helloWorldTextStyle<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ViroARScene<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre></div><p>在 return 的 <code>jsx</code> 语句中，顶层元素是一个 <code>&lt;ViroARScene /&gt;</code> 。每个 AR 场景的顶层元素都必须是 <code>ViroARScene</code> ，其它组件则只能作为 <code>ViroARScene</code> 的子组件。</p><p>我们使用一个 callback 类型的参数，<code>onTrackingUpdated</code> ，来调用 <code>onInitialized()</code> 函数。当跟踪状态为 <code>TRACKING_NORMAL</code>时，该函数会将 <code>text</code> 设置为 “Hello World！”。</p><p>接下来声明一个 <code>ViroText</code>，其文本内容根据 <code>text</code> 状态在 “Initializing AR...” 和 “Hello World” 之间切换。使用 style 属性指定的字体、字体大小和颜色来渲染该文本对象。对象坐标设为[0,0,-1]。在 viro 的坐标系中，观察者面向负 Z 方向，因此物体对象坐标 Z = -1 ，会将其置于观察者的前方。</p><h2 id="声明样式" tabindex="-1">声明样式 <a class="header-anchor" href="#声明样式" aria-hidden="true">#</a></h2><p>除了定义 <code>HelloWorldSceneAR</code> 组件，还需声明在组件中使用的样式。样式通常表示组件的布局属性。</p><p>在我们的 app 中，我们使用 <code>StyleSheet</code> 创建了一个 <code>styles</code> 变量，其内定义了一个名为 <code>helloWorldTextStyle</code> 的样式，用于描述 <code>ViroText</code> 组件的字体类型、颜色、大小和对齐方式。</p><div class="language-js"><pre><code><span class="token keyword">let</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  helloWorldTextStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    fontFamily<span class="token operator">:</span> <span class="token string">&#39;Arial&#39;</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&#39;#ffffff&#39;</span><span class="token punctuation">,</span>
    textAlignVertical<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
    textAlign<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>目前已经描述了我们的场景是如何工作的，现在让我们看看如何去扩展它。</p><h2 id="下载-assets" tabindex="-1">下载 assets <a class="header-anchor" href="#下载-assets" aria-hidden="true">#</a></h2><p>首先下载我们将用于本教程的资源文件:</p><ul><li>emoji_smile/ <ul><li>emoji_smile.vrx</li><li>emoji_smile_diffuse.png</li><li>emoji_smile_normal.png</li><li>emoji_smile_specular.png</li></ul></li><li>grid_bg.jpg</li></ul><p>请按照以下步骤操作：</p><ul><li>下载资源包：<a href="https://github.com/MleMoe/ar-template/tree/main/assets" target="_blank" rel="noopener noreferrer">res</a><blockquote><p>注：此为 github repo 内文件，请使用任意合适方法下载。可使用插件：<a href="https://chrome.google.com/webstore/detail/gitzip-for-github/ffabmkklhbepgcgfonabamgnfafbdlkn/related" target="_blank" rel="noopener noreferrer">GitZip for github</a></p></blockquote></li><li>放至根目录下的 <code>assets</code> 文件夹中。</li></ul><h2 id="往场景中加入组件" tabindex="-1">往场景中加入组件 <a class="header-anchor" href="#往场景中加入组件" aria-hidden="true">#</a></h2><p>以 HelloWorld 场景为例，在 &quot;Hello World&quot; 文本对象坐标下方加一个 3D Box。我们可用 <code>ViroBox</code> 组件做这件事，遵循以下步骤：</p><p>首先，从 <code>@viro-community/react-viro</code> 包中导入 <code>ViroBox</code> 和 <code>ViroMaterials</code>。</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  ViroBox<span class="token punctuation">,</span>
  ViroMaterials<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>

</code></pre></div><p>接下来把 Box 加入到场景中。可以参考 <a href="https://docs.viromedia.com/docs/virobox" target="_blank" rel="noopener noreferrer">ViroBox API</a> 设置 <code>ViroBox</code> 对象属性以自定义我们的 Box。</p><p>将下面的代码放置在 <code>ViroText</code> 组件代码之下：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroBox
  position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  materials<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#39;grid&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="定制-virobox-属性" tabindex="-1">定制 ViroBox 属性 <a class="header-anchor" href="#定制-virobox-属性" aria-hidden="true">#</a></h3><p>在上面的代码，我们把 <code>ViroBox</code> 的位置坐标设置为 <code>[0, -0.5, -1]</code>，从 y 轴来看，我们把 <code>Box</code> 放置在了 <code>Text</code> 的下面。</p><p><code>ViroBox</code> 物体对象的 <code>width</code>、<code>height</code> 和 <code>length</code> 属性值默认为 1(meter) 。通过 <code>scale</code> 属性值，将其依序缩放 <code>[0.3, 0.3, 0.1]</code>。</p><p><code>materials</code> 属性允许我们设置一个预定义好的材质（详情请参考 <a href="https://docs.viromedia.com/docs/materials" target="_blank" rel="noopener noreferrer">ViroMaterials</a>）作为 Box 的纹理。在这个例子中，我们在 <code>ViroBox</code> 上设置了一个名为 <code>grid</code> 的材质，我们将在下一步中定义它。</p><h3 id="定义材质" tabindex="-1">定义材质 <a class="header-anchor" href="#定义材质" aria-hidden="true">#</a></h3><p>在使用上面讲的 <code>grid</code> 材质之前，我们需要定义它。由于我们已经导入了 <code>ViroMaterials</code>，我们可以简单地在 <code>styles</code> 样式声明下方添加以下代码：</p><div class="language-js"><pre><code>ViroMaterials<span class="token punctuation">.</span><span class="token function">createMaterials</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  grid<span class="token operator">:</span> <span class="token punctuation">{</span>
    diffuseTexture<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/grid_bg.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>由此我们定义了一个包含 <code>diffuseTexture</code>(漫反射纹理) 的 <code>grid</code> 材质。该材质指向 assets 目录中的文件 grid_bg.jpg。</p><p>这里要注意两点：</p><ol><li><code>require()</code> 函数是 <code>React</code> 提供的一个特殊函数，它将文件路径转换为一个可用于获取资源的值。</li><li><code>require()</code> 的参数是一个文件路径，且为一个相对路径。</li></ol><p>这个时候，我们的 <code>HelloWorldSceneAR.js</code> 代码长这样：</p><div class="language-js"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-native&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  ViroARScene<span class="token punctuation">,</span>
  ViroText<span class="token punctuation">,</span>
  ViroConstants<span class="token punctuation">,</span>
  ViroBox<span class="token punctuation">,</span>
  ViroMaterials<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  f1<span class="token operator">:</span> <span class="token punctuation">{</span> flex<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  helloWorldTextStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    fontFamily<span class="token operator">:</span> <span class="token string">&#39;Arial&#39;</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&#39;#ffffff&#39;</span><span class="token punctuation">,</span>
    textAlignVertical<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
    textAlign<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ViroMaterials<span class="token punctuation">.</span><span class="token function">createMaterials</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  grid<span class="token operator">:</span> <span class="token punctuation">{</span>
    diffuseTexture<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/grid_bg.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">HelloWorldSceneAR</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;Initializing AR...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onInitialized</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;guncelleme&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NORMAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Handle loss of tracking</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ViroARScene onTrackingUpdated<span class="token operator">=</span><span class="token punctuation">{</span>onInitialized<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroText
        text<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span>
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>helloWorldTextStyle<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroBox
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        materials<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#39;grid&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ViroARScene<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> HelloWorldSceneAR <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>保存 <code>HelloWorldSceneAR.js</code> 文件，重载 app。你现在应该在 Hello World 文本下看到了一个粉红色和灰色的立方体。</p><div style="text-align:center;"><img src="https://files.readme.io/0019cfa-IMG_BEC77E650A4B-1.jpeg" width="300"></div><blockquote><p>对于 ios 设备调试，若要重新加载文件，只需摇动设备，就会出现一个调试菜单，如下所示。点击“重新加载”，将出现一个选择 AR 或 VR 的屏幕。点击 AR，更改将刷新。 对于 android 设备，会自动热更新重加载。</p></blockquote><h2 id="加一个-3d-物体到场景中" tabindex="-1">加一个 3D 物体到场景中 <a class="header-anchor" href="#加一个-3d-物体到场景中" aria-hidden="true">#</a></h2><p>现在让我们向场景中添加一个 3D 对象。 assets 文件夹中有一个“emoji_smile”文件夹，这些文件将被用来向场景中添加 3D emoji。</p><h3 id="导入组件" tabindex="-1">导入组件 <a class="header-anchor" href="#导入组件" aria-hidden="true">#</a></h3><p>我们首先需要导入能用到的组件，如：<code>Viro3DObject</code>，<code>ViroAmbientLight</code> ，<code>ViroSpotLight</code>。</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  Viro3DObject<span class="token punctuation">,</span>
  ViroAmbientLight<span class="token punctuation">,</span>
  ViroSpotLight<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>接下来，我们需要把 <code>Viro3DObject</code> 和光源加入到场景中。复制下面的代码，将其加入到 <code>&lt;ViroARScene /&gt;</code> 中，注意放置位置为 <code>ViroBox</code> 组件下面。</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>Viro3DObject
  source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">}</span>
  position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>保存文件，重载 app 页面。你将会看到下面的场景。</p><blockquote><p>如果一开始看不到所有物体组件的话，移动一下手机视角，物体可能在你的左侧。</p></blockquote><div style="text-align:center;"><img src="https://files.readme.io/74a0078-IMG_2934.PNG" width="300"></div><h2 id="使用-viroarplane" tabindex="-1">使用 ViroARPlane <a class="header-anchor" href="#使用-viroarplane" aria-hidden="true">#</a></h2><p>在一个 AR app 中，设备（例如手机）的摄像头通常被用来呈现一个真实物理世界的实时屏幕视图。三维的虚拟物体被叠加在这个视图中，产生出一种它们真实存在的假象。</p><p>一种在真实世界放置物体的方法是使用组件 <code>ViroARPlane</code> 或 <code>ViroARPlaneSelector</code>。当 AR 系统检测到一个平面时，ViroReact 会尝试将它绑定到已经声明的 <code>ViroARPlane</code> 组件上，并持续将虚拟平面固定在检测到的真实世界平面上。至于另一种，<code>ViroARPlaneSelector</code> 组件可以让开发人员实现——允许其用户选择希望所使用的平面。</p><p>为了了解它是如何工作的，让我们在场景中添加一个 <code>ViroARPlaneSelector</code>。</p><p>首先，如下所示，导入组件 <code>ViroARPlaneSelector</code> ：</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  ViroARPlaneSelector<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>然后在 <code>&lt;ViroARScene /&gt;</code> 的 children 中复制粘贴以下代码，加入一个 <code>ViroARPlaneSelector</code> 组件。</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroARPlaneSelector <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>保存文件，重载测试 app。除了之前的场景，当你在房间内移动时，视图上还会出现一些检测到的虚拟平面。在我们的现实世界中，桌子和地板平面都被检测到，如下所示：</p><div style="text-align:center;"><img src="https://files.readme.io/0c2779b-IMG_805765C25B14-1.jpeg" width="300"></div><p>如果尝试点击“选择”一个平面，这些平面将全部消失，因为 <code>ViroARPlaneSelector</code> 中没有添加任何内容，在下一节中，我们将展示如何向其添加物体组件。</p><h2 id="添加一个-3d-物体到平面" tabindex="-1">添加一个 3D 物体到平面 <a class="header-anchor" href="#添加一个-3d-物体到平面" aria-hidden="true">#</a></h2><p>先前，当我们将表情符号添加到场景中时，使用的是一个固定位置 <code>{[-.5, -.5, -1]}</code>，如下所示：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>Viro3DObject
  source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">}</span>
  position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>对于 AR，我们经常希望将对象放置在与现实世界相关的位置。使用我们之前确定的平面，将表情符号放在一个平面上。首先，从你的 js 文件中删除你刚刚添加的代码。然后将 <code>HelloWorldSceneAR.js</code> 文件中的 <code>Viro3DObject</code> 代码替换为以下代码：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroARPlaneSelector<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Viro3DObject
    source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">}</span>
    position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ViroARPlaneSelector<span class="token operator">&gt;</span>
</code></pre></div><p>请注意，我们还将表情符号的位置更改为 <code>[0, 0.5, 0]</code>。这是因为表情符号的中心在表情符号本身内，所以为了让它正好“坐在”平面上，我们需要将它稍微移动到平面所在的位置上方。</p><p>保存文件，重载测试 app。</p><p>现在我们已经将 3D 对象组件放置在 <code>ViroARPlaneSelector</code> 组件中，当点击一个平面时，表情符号将放置在所选平面上，其它平面将消失。</p><div style="text-align:center;"><img src="https://files.readme.io/2909904-IMG_2936.PNG" width="300"></div><h2 id="交互和动画" tabindex="-1">交互和动画 <a class="header-anchor" href="#交互和动画" aria-hidden="true">#</a></h2><p>AR 的一大优点，是用户可以在真实世界中移动，从不同角度查看虚拟对象，并与之交互。让我们为表情符号添加交互，并为盒子添加一些动作。</p><p>首先，我们需要使表情符号可拖拽，以便通过拖拽手势而移动它。首先我们需要导入另一个组件 <code>ViroNode</code>：</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  ViroNode<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>在上一步中，正如下所示，我们将表情符号放置在 <code>ViroARPlaneSelector</code> 组件中：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroARPlaneSelector<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Viro3DObject
    source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">}</span>
    position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ViroARPlaneSelector<span class="token operator">&gt;</span>
</code></pre></div><p>为了让我们的表情符号沿着现实世界的表面拖动，我们需要用 <code>ViroNode</code> 替换 <code>ViroARPlaneSelector</code>，将 <code>dragType</code> 设置为 <code>FixedToWorld</code>，并添加一个空的匿名函数，让平台知道我们想要拖动这个对象。</p><p>用下面的代码块替换上面的代码块：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroNode position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span> dragType<span class="token operator">=</span><span class="token string">&#39;FixedToWorld&#39;</span> onDrag<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Viro3DObject
    source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">}</span>
    position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ViroNode<span class="token operator">&gt;</span>
</code></pre></div><p>保存文件，重载测试 app。</p><p>表情符号现在应该出现在你的面前和左侧。且现在应该能够在场景中触摸和拖动表情符号，注意它如何沿着现实世界的表面移动。</p><h2 id="动画" tabindex="-1">动画 <a class="header-anchor" href="#动画" aria-hidden="true">#</a></h2><p>最后，让我们为 box 添加一些运动。首先，导入 <code>ViroAnimations</code> 组件。</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  ViroAnimations<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span>
</code></pre></div><p>然后将 <code>ViroBox</code> 组件替换为以下内容：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroBox
  position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  materials<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#39;grid&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  animation<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;rotate&#39;</span><span class="token punctuation">,</span> run<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> loop<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>如你所见，我们添加了一个值为 <code>{name: &quot;rotate&quot;, run: true, loop: true}</code> 的新属性动画。<code>rotate</code> 是我们将在下一步中注册的动画，就像我们在上面为 <a href="https://docs.viromedia.com/docs/materials" target="_blank" rel="noopener noreferrer">ViroMaterials</a> 所做的那样。</p><p>找到我们注册 <code>ViroMaterials</code> 的位置，将以下代码复制粘贴到其下方：</p><div class="language-js"><pre><code>ViroAnimations<span class="token punctuation">.</span><span class="token function">registerAnimations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  rotate<span class="token operator">:</span> <span class="token punctuation">{</span>
    properties<span class="token operator">:</span> <span class="token punctuation">{</span>
      rotateY<span class="token operator">:</span> <span class="token string">&#39;+=90&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token comment">//0.25 seconds</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>保存文件，重载测试 app。现在应该看到“Hello World”，一个旋转框，和一个可拖拽的表情符号。本教程末尾发布了完整的最终代码示例。</p><div style="text-align:center;"><img src="https://files.readme.io/e5c8290-IMG_E4A7470BB353-1.jpeg" width="300"></div><h2 id="继续修改场景" tabindex="-1">继续修改场景 <a class="header-anchor" href="#继续修改场景" aria-hidden="true">#</a></h2><p>现在你应该对 <code>ViroReact</code> 的工作原理有了大概的了解。查看我们的代码示例以获取<a href="https://github.com/ViroCommunity/ar-demos/tree/master/js" target="_blank" rel="noopener noreferrer">其它示例</a>，或继续向 <code>HelloWorldScene</code> 添加你自己的功能。例如：</p><ul><li>向场景中的其它对象添加动画。查看我们的<a href="https://docs.viromedia.com/docs/animation" target="_blank" rel="noopener noreferrer">Animation Guide</a>以获取有关如何完成此操作的信息。</li><li>尝试为场景添加阴影和照明。查看<a href="https://docs.viromedia.com/docs/3d-scene-lighting" target="_blank" rel="noopener noreferrer">Lighting and Materials</a>了解详细信息。</li></ul><h2 id="final-code" tabindex="-1">Final Code <a class="header-anchor" href="#final-code" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-native&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  ViroARScene<span class="token punctuation">,</span>
  ViroText<span class="token punctuation">,</span>
  ViroConstants<span class="token punctuation">,</span>
  ViroBox<span class="token punctuation">,</span>
  ViroMaterials<span class="token punctuation">,</span>
  ViroAmbientLight<span class="token punctuation">,</span>
  ViroSpotLight<span class="token punctuation">,</span>
  Viro3DObject<span class="token punctuation">,</span>
  ViroNode<span class="token punctuation">,</span>
  ViroAnimations<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@viro-community/react-viro&#39;</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * declare styles
 */</span>
<span class="token keyword">let</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  helloWorldTextStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    fontFamily<span class="token operator">:</span> <span class="token string">&#39;Arial&#39;</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&#39;#ffffff&#39;</span><span class="token punctuation">,</span>
    textAlignVertical<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
    textAlign<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * declare materials
 */</span>
ViroMaterials<span class="token punctuation">.</span><span class="token function">createMaterials</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  grid<span class="token operator">:</span> <span class="token punctuation">{</span>
    diffuseTexture<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/grid_bg.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * declare animations
 */</span>
ViroAnimations<span class="token punctuation">.</span><span class="token function">registerAnimations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  rotate<span class="token operator">:</span> <span class="token punctuation">{</span>
    properties<span class="token operator">:</span> <span class="token punctuation">{</span>
      rotateY<span class="token operator">:</span> <span class="token string">&#39;+=90&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token comment">//0.25 seconds</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * HelloWorldSceneAR Function Component
 * @returns {JSX.Element} component content
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">HelloWorldSceneAR</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;Initializing AR...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onInitialized</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;guncelleme&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NORMAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ViroConstants<span class="token punctuation">.</span><span class="token constant">TRACKING_NONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Handle loss of tracking</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ViroARScene onTrackingUpdated<span class="token operator">=</span><span class="token punctuation">{</span>onInitialized<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroText
        text<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span>
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>helloWorldTextStyle<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroBox
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        materials<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#39;grid&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        animation<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;rotate&#39;</span><span class="token punctuation">,</span> run<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> loop<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroAmbientLight color<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;#aaaaaa&#39;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroSpotLight
        innerAngle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>
        outerAngle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">90</span><span class="token punctuation">}</span>
        direction<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
        color<span class="token operator">=</span><span class="token string">&#39;#ffffff&#39;</span>
        castsShadow<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ViroNode position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span> dragType<span class="token operator">=</span><span class="token string">&#39;FixedToWorld&#39;</span> onDrag<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Viro3DObject
          source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile.vrx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          resources<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_normal.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../assets/emoji_smile/emoji_smile_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">}</span>
          position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
          scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
          type<span class="token operator">=</span><span class="token string">&#39;VRX&#39;</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ViroNode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ViroARScene<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> HelloWorldSceneAR <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/ViroReact-Docs-CN/getting-started/quick-start" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>快速上手</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/ViroReact-Docs-CN/basic/scenes" data-v-38ede35f><span class="text" data-v-38ede35f>Scenes</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"ar_image-recognition.md\":\"7a6e44dc\",\"ar_interaction.md\":\"8e260c22\",\"ar_overview.md\":\"7ade85db\",\"ar_tracking-and-anchors.md\":\"b63353d9\",\"basic_3d-objects.md\":\"73c73b59\",\"basic_assets.md\":\"64e156e0\",\"basic_input-events.md\":\"752dd794\",\"basic_scene-navigation.md\":\"841cbf18\",\"basic_scenes.md\":\"933b97bc\",\"basic_ui-controls-and-flexbox.md\":\"5c582deb\",\"getting-started_index.md\":\"f3e353a5\",\"getting-started_quick-start.md\":\"174d9032\",\"getting-started_tutorial-ar.md\":\"f35191b3\",\"index.md\":\"b8a94ea7\"}")</script>
    <script type="module" async src="/ViroReact-Docs-CN/assets/app.551f901f.js"></script>
    
  </body>
</html>