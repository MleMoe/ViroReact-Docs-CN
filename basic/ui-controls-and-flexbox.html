<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UI 控件和 Flexbox | ViroReact-AR 中文文档</title>
    <meta name="description" content="the Chinese version of viro media/community documents">
    <link rel="stylesheet" href="/ViroReact-Docs-CN/assets/style.019f39fc.css">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/Home.6e5cf38f.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/app.551f901f.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/basic_ui-controls-and-flexbox.md.5c582deb.lean.js">
    <link rel="modulepreload" href="/ViroReact-Docs-CN/assets/app.551f901f.js">
    <meta name="twitter:title" content="UI 控件和 Flexbox | ViroReact-AR 中文文档">
    <meta property="og:title" content="UI 控件和 Flexbox | ViroReact-AR 中文文档">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/ViroReact-Docs-CN/" aria-label="ViroReact-AR 中文文档, back to home" data-v-675d8756 data-v-4a583abe><!----> ViroReact-AR 中文文档</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><!----></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><!----><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item"></p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/">前言</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/getting-started/">起步</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/getting-started/quick-start">快速上手</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/getting-started/tutorial-ar">AR 教程</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">基础</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/scenes">Scenes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/scene-navigation">Scene Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/input-events">输入事件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/3d-objects">3d 对象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/basic/assets">资源文件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/ViroReact-Docs-CN/basic/ui-controls-and-flexbox">UI 控件 &amp; flex 布局</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#flexbox-布局">flexbox 布局</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#在-viro-中使用-flexbox">在 viro 中使用 flexbox</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#高级示例">高级示例</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">AR</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/overview">概述</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/tracking-and-anchors">追踪与锚点</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/interaction">交互</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ViroReact-Docs-CN/ar/image-recognition">图像识别</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="ui-控件和-flexbox" tabindex="-1">UI 控件和 Flexbox <a class="header-anchor" href="#ui-控件和-flexbox" aria-hidden="true">#</a></h1><p>使用传统 UI 控件为场景添加交互性</p><p>Viro 场景是 3D 环境，但通常用于显示 2D 内容。 2D 内容提供了一种简单的机制，可以通过文本和图像向用户提供信息，或公开交互目标，例如按钮。</p><p>Viro 提供了以下传统的 UI 控件：</p><ul><li>显示图像（远程或本地）</li><li>交互接触点</li><li>显示文本（具有强大的格式选项）</li><li>传统的进度指示器</li><li>将视频（远程或本地）流式地传输到 2D 表面上</li></ul><p>这些组件中的每一个都支持各种各样的<a href="https://docs.viromedia.com/docs/events" target="_blank" rel="noopener noreferrer">事件</a>，并具有特定的属性，所有这些属性都记录在上面链接的各自参考指南中。</p><p>要将这些控件放置在你的场景中，请设置它们的位置属性并将它们添加到 <code>&lt;ViroNode&gt;</code>。然而，由于完全以这种方式放置控件通常既乏味又耗时，我们还实现了 Flexbox，这是一种熟悉且强大的 UI 布局方式。</p><h2 id="flexbox-布局" tabindex="-1">flexbox 布局 <a class="header-anchor" href="#flexbox-布局" aria-hidden="true">#</a></h2><p>CSS 中使用 flexbox 算法来布局 2D 组件。可以在<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="noopener noreferrer">这里</a>找到 CSS flexbox 的一个很好的概述。</p><p>与 React Native 非常相似，Viro 支持 flexbox 布局属性的子集。</p><h2 id="在-viro-中使用-flexbox" tabindex="-1">在 viro 中使用 flexbox <a class="header-anchor" href="#在-viro-中使用-flexbox" aria-hidden="true">#</a></h2><p>要在 Viro 中使用 Flexbox，你需要使用一个 <code>&lt;ViroFlexView&gt;</code>。 <code>&lt;ViroFlexView&gt;</code> 是一个容器对象，允许你创建锚定在 3D 空间中的 2D 面板。允许成为 <code>&lt;ViroFlexView&gt;</code> 子项的组件是 <code>&lt;ViroText&gt;</code>、<code>&lt;ViroImage&gt;</code>、<code>&lt;ViroVideo&gt;</code>、<code>&lt;ViroButton&gt;</code>、<code>&lt;ViroSpinner&gt;</code> 和 <code>&lt;ViroFlexView&gt;</code> 自身。</p><p>让我们从一个简单的例子开始：</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>ViroFlexView
  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> flexDirection<span class="token operator">:</span> <span class="token string">&#39;row&#39;</span><span class="token punctuation">,</span> padding<span class="token operator">:</span> <span class="token number">0.1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
  width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5.0</span><span class="token punctuation">}</span>
  height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5.0</span><span class="token punctuation">}</span>
  position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  rotation<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ViroImage source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./res/myImage1.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> flex<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ViroImage source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./res/myImage2.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> flex<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ViroFlexView<span class="token operator">&gt;</span>
</code></pre></div><p>上面代码的结果是一行简单的 2 张图像并排对齐。上面的 <code>&lt;ViroFlexView&gt;</code> 有一个 style 属性，它定义了 child 组件的布局。在本例中，我们通过设置 flexDirection:row 告诉 <code>&lt;ViroFlexView&gt;</code> 将其 child 项对齐成一行。我们还指出每个 child 都应该有 0.1 的 padding。</p><p><code>&lt;ViroImage&gt;</code> 子元素也有样式属性。在这个例子中，它们使用 flex 属性来指示它们在容器内应该有多大。在这种情况下，两个图像的值都是 0.5，因此每个图像最终都占用了容器的一半空间。</p><p>这个例子只涉及最基本的 Flexbox 属性。可以在<a href="https://facebook.github.io/react-native/docs/layout-props.html" target="_blank" rel="noopener noreferrer">此处</a>找到所有布局属性的列表。</p><h2 id="高级示例" tabindex="-1">高级示例 <a class="header-anchor" href="#高级示例" aria-hidden="true">#</a></h2><p>假设你想创建一些更复杂的东西，在顶行中有一个图像，在底行中有两个并排对齐的图像。这将涉及嵌套的 <code>&lt;ViroFlexView&gt;</code> 容器。下面的示例演示了如何在 <code>render()</code> 中完成此操作：</p><div class="language-js"><pre><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token comment">//... render code that has &lt;ViroScene&gt;, etc.</span>

<span class="token operator">&lt;</span>ViroFlexView style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flexDirection<span class="token operator">:</span> <span class="token string">&#39;column&#39;</span><span class="token punctuation">,</span> padding<span class="token operator">:</span> <span class="token number">.1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
              width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5.0</span><span class="token punctuation">}</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5.0</span><span class="token punctuation">}</span>
              position<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
              rotation<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ViroImage source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./res/topImage.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ViroFlexView style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> flexDirection<span class="token operator">:</span> <span class="token string">&#39;row&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ViroImage source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./res/myImage1.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ViroImage source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./res/myImage2.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ViroFlexView<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ViroFlexView<span class="token operator">&gt;</span>

<span class="token comment">//... whatever other views we have!!</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>从上面的示例中，你可以看到我们添加了一个嵌套的 <code>&lt;ViroFlexView&gt;</code>，它将子项的 <code>flexDirection</code> 更改为 <code>row</code> 并添加了填充。你可以根据需要嵌套任意数量的 <code>&lt;ViroFlexView&gt;</code> 容器。</p><p>请注意，最外面的 <code>&lt;ViroFlexView&gt;</code> 是唯一具有位置和旋转属性的元素。位置、旋转和缩放道具仅适用于最外层的 <code>&lt;ViroFlexView&gt;</code>。这些属性将 2D 面板锚定在 3D 空间中。</p><p>查看我们的<a href="https://docs.viromedia.com/docs/code-samples" target="_blank" rel="noopener noreferrer">代码示例</a>，了解有关如何使用 Flexbox 在 VR 中创建 2D UI 的更多示例。</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/ViroReact-Docs-CN/basic/assets" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>资源文件</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/ViroReact-Docs-CN/ar/overview" data-v-38ede35f><span class="text" data-v-38ede35f>概述</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"ar_image-recognition.md\":\"7a6e44dc\",\"ar_interaction.md\":\"8e260c22\",\"ar_overview.md\":\"7ade85db\",\"ar_tracking-and-anchors.md\":\"b63353d9\",\"basic_3d-objects.md\":\"73c73b59\",\"basic_assets.md\":\"64e156e0\",\"basic_input-events.md\":\"752dd794\",\"basic_scene-navigation.md\":\"841cbf18\",\"basic_scenes.md\":\"933b97bc\",\"basic_ui-controls-and-flexbox.md\":\"5c582deb\",\"getting-started_index.md\":\"f3e353a5\",\"getting-started_quick-start.md\":\"174d9032\",\"getting-started_tutorial-ar.md\":\"f35191b3\",\"index.md\":\"b8a94ea7\"}")</script>
    <script type="module" async src="/ViroReact-Docs-CN/assets/app.551f901f.js"></script>
    
  </body>
</html>